"use strict";(self.webpackChunkaz_function_as_a_graph_ui=self.webpackChunkaz_function_as_a_graph_ui||[]).push([[679],{1679:function(e,t,a){a.r(t),a.d(t,{diagram:function(){return I}});var n=a(7166),r=a(9472),o=a(3032),s=a(8003),c=a(8433),i=a(8735),d=a(366),l=a(4726),p=(a(7892),a(504),a(8703),a(1818),a(1214),"rect"),u="rectWithTitle",g="statediagram",h="".concat(g,"-").concat("state"),b="transition",f="".concat(b," ").concat("note-edge"),y="".concat(g,"-").concat("note"),v="".concat(g,"-").concat("cluster"),w="".concat(g,"-").concat("cluster-alt"),x="parent",m="note",T="state",k="----",S="".concat(k).concat(m),D="".concat(k).concat(x),A="fill:none",_="fill: #333",B="text",E="normal",C={},R=0;function V(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:k,r=null!==a&&a.length>0?"".concat(n).concat(a):"";return"".concat(T,"-").concat(e).concat(r,"-").concat(t)}var z=function(e,t,a,n,r,o){var c,i=a.id,l=void 0===(c=n[i])||null===c?"":c.classes?c.classes.join(" "):"";if("root"!==i){var g=p;!0===a.start&&(g="start"),!1===a.start&&(g="end"),a.type!==s.D&&(g=a.type),C[i]||(C[i]={id:i,shape:g,description:d.e.sanitizeText(i,(0,d.c)()),classes:"".concat(l," ").concat(h)});var b=C[i];a.description&&(Array.isArray(b.description)?(b.shape=u,b.description.push(a.description)):b.description.length>0?(b.shape=u,b.description===i?b.description=[a.description]:b.description=[b.description,a.description]):(b.shape=p,b.description=a.description),b.description=d.e.sanitizeTextOrArray(b.description,(0,d.c)())),1===b.description.length&&b.shape===u&&(b.shape=p),!b.type&&a.doc&&(d.l.info("Setting cluster for ",i,L(a)),b.type="group",b.dir=L(a),b.shape=a.type===s.a?"divider":"roundedWithTitle",b.classes=b.classes+" "+v+" "+(o?w:""));var T={labelStyle:"",shape:b.shape,labelText:b.description,classes:b.classes,style:"",id:i,dir:b.dir,domId:V(i,R),type:b.type,padding:15,centerLabel:!0};if(a.note){var k={labelStyle:"",shape:"note",labelText:a.note.text,classes:y,style:"",id:i+S+"-"+R,domId:V(i,R,m),type:b.type,padding:15},z={labelStyle:"",shape:"noteGroup",labelText:a.note.text,classes:b.classes,style:"",id:i+D,domId:V(i,R,x),type:"group",padding:0};R++;var M=i+D;e.setNode(M,z),e.setNode(k.id,k),e.setNode(i,T),e.setParent(i,M),e.setParent(k.id,M);var Z=i,I=k.id;"left of"===a.note.position&&(Z=k.id,I=i),e.setEdge(Z,I,{arrowhead:"none",arrowType:"",style:A,labelStyle:"",classes:f,arrowheadStyle:_,labelpos:"c",labelType:B,thickness:E})}else e.setNode(i,T)}t&&"root"!==t.id&&(d.l.trace("Setting node ",i," to be child of its parent ",t.id),e.setParent(i,t.id)),a.doc&&(d.l.trace("Adding nodes children "),N(e,a,a.doc,n,r,!o))},N=function(e,t,a,n,r,o){d.l.trace("items",a),a.forEach((function(a){switch(a.stmt){case s.b:case s.D:z(e,t,a,n,r,o);break;case s.S:z(e,t,a.state1,n,r,o),z(e,t,a.state2,n,r,o);var c={id:"edge"+R,arrowhead:"normal",arrowTypeEnd:"arrow_barb",style:A,labelStyle:"",label:d.e.sanitizeText(a.description,(0,d.c)()),arrowheadStyle:_,labelpos:"c",labelType:B,thickness:E,classes:b};e.setEdge(a.state1.id,a.state2.id,c,R),R++}}))},L=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:s.c,a=t;if(e.doc)for(var n=0;n<e.doc.length;n++){var r=e.doc[n];"dir"===r.stmt&&(a=r.value)}return a},M=function(){var e=(0,o.Z)((0,n.Z)().mark((function e(t,a,o,s){var u,h,b,f,y,v,w,x,m,T,k,S,D,A,_,B,E,R,V,N,M,Z;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return d.l.info("Drawing state diagram (v2)",a),C={},s.db.getDirection(),u=(0,d.c)(),h=u.securityLevel,b=u.state,f=b.nodeSpacing||50,y=b.rankSpacing||50,d.l.info(s.db.getRootDocV2()),s.db.extract(s.db.getRootDocV2()),d.l.info(s.db.getRootDocV2()),v=s.db.getStates(),w=new c.k({multigraph:!0,compound:!0}).setGraph({rankdir:L(s.db.getRootDocV2()),nodesep:f,ranksep:y,marginx:8,marginy:8}).setDefaultEdgeLabel((function(){return{}})),z(w,void 0,s.db.getRootDocV2(),v,s.db,!0),"sandbox"===h&&(x=(0,i.Ys)("#i"+a)),m="sandbox"===h?(0,i.Ys)(x.nodes()[0].contentDocument.body):(0,i.Ys)("body"),T=m.select('[id="'.concat(a,'"]')),k=m.select("#"+a+" g"),e.next=18,(0,l.r)(k,w,["barb"],g,a);case 18:8,d.u.insertTitle(T,"statediagramTitleText",b.titleTopMargin,s.db.getDiagramTitle()),S=T.node().getBBox(),D=S.width+16,A=S.height+16,T.attr("class",g),_=T.node().getBBox(),(0,d.i)(T,A,D,b.useMaxWidth),B="".concat(_.x-8," ").concat(_.y-8," ").concat(D," ").concat(A),d.l.debug("viewBox ".concat(B)),T.attr("viewBox",B),E=document.querySelectorAll('[id="'+a+'"] .edgeLabel .label'),R=(0,r.Z)(E);try{for(R.s();!(V=R.n()).done;)N=V.value,M=N.getBBox(),(Z=document.createElementNS("http://www.w3.org/2000/svg",p)).setAttribute("rx",0),Z.setAttribute("ry",0),Z.setAttribute("width",M.width),Z.setAttribute("height",M.height),N.insertBefore(Z,N.firstChild)}catch(t){R.e(t)}finally{R.f()}case 32:case"end":return e.stop()}}),e)})));return function(t,a,n,r){return e.apply(this,arguments)}}(),Z={setConf:function(e){for(var t=0,a=Object.keys(e);t<a.length;t++){e[a[t]]}},getClasses:function(e,t){d.l.trace("Extracting classes"),t.db.clear();try{return t.parser.parse(e),t.db.extract(t.db.getRootDocV2()),t.db.getClasses()}catch(a){return a}},draw:M},I={parser:s.p,db:s.d,renderer:Z,styles:s.s,init:function(e){e.state||(e.state={}),e.state.arrowMarkerAbsolute=e.arrowMarkerAbsolute,s.d.clear()}}}}]);
//# sourceMappingURL=679.06507115.chunk.js.map